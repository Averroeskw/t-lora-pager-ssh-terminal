<?xml version="1.0" encoding="UTF-8"?>
<!-- T-LoRa Pager SSH Terminal - Main Terminal Screen -->
<screen name="terminal">

	<styles>
		<style name="screen_base" bg_color="#bg_primary" bg_opa="#opa_full" />
	</styles>

	<view>
		<style name="screen_base" />
		<remove_style_all />

		<!-- Main vertical layout: status bar + terminal area -->
		<lv_obj
			width="100%"
			height="100%"
			layout="flex"
			flex_flow="column"
			pad_all="0"
			bg_opa="0"
		>
			<!-- Status Bar (conditional) -->
			<lv_obj
				width="100%"
				height="#status_bar_height"
				layout="flex"
				flex_flow="row"
				flex_main_place="space-between"
				flex_cross_place="center"
			>
				<bind_state subject="status_bar_enabled" ref_value="false" flag="hidden" />
				<style name="status_bar" />

				<!-- Left: Connection status -->
				<lv_obj layout="flex" flex_flow="row" gap="#unit_sm" height="100%" bg_opa="0">
					<!-- WiFi indicator -->
					<component name="wifi_indicator" />
					<!-- WebSocket indicator -->
					<component name="websocket_indicator" />
				</lv_obj>

				<!-- Center: Host info -->
				<lv_label text="$gateway_host" />

				<!-- Right: Modifier keys -->
				<lv_obj layout="flex" flex_flow="row" gap="#unit_xs" height="100%" bg_opa="0">
					<component name="modifier_indicator" key="SHIFT" subject="mod_shift" />
					<component name="modifier_indicator" key="CTRL" subject="mod_ctrl" />
					<component name="modifier_indicator" key="ALT" subject="mod_alt" />
					<component name="modifier_indicator" key="FN" subject="mod_fn" />
					<component name="modifier_indicator" key="SYM" subject="mod_sym" />
				</lv_obj>
			</lv_obj>

			<!-- Terminal Display Area -->
			<lv_obj
				id="terminal_area"
				width="100%"
				flex_grow="1"
				bg_opa="0"
				pad_all="#unit_xs"
			>
				<style name="terminal_base" />

				<!-- Terminal grid container -->
				<component name="terminal_grid" />

				<!-- Cursor overlay -->
				<component name="terminal_cursor" />
			</lv_obj>

		</lv_obj>
	</view>

</screen>
